
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>UltraImage</title>
  <link rel="stylesheet" href="./FreeScale_files/css/bootstrap.min.css">
  <link rel="stylesheet" href="./FreeScale_files/css/dics.min.css">
  <link rel="stylesheet" href="./FreeScale_files/css/bulma.min.css">
  <link rel="stylesheet" href="./FreeScale_files/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./FreeScale_files/css/index.css">
  <link rel="stylesheet" href="./FreeScale_files/css/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="./FreeScale_files/js/bulma-carousel.min.js"></script>
  <script src="./FreeScale_files/js/index.js"></script>
  <script src="./FreeScale_files/js/dics.min.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', domReady);
      function domReady() {
          for (const e of document.querySelectorAll(".b-dics")) {
              new Dics({
                  container: e,
                  textPosition: "top"
              });
          }
      }
  </script>
  </head>
  
  <div class="content">:  
    <h1><strong><font color="#22a6b3">ðŸŒŠUltraImage</font>: Rethinking Resolution Extrapolation in <br> Image Diffusion Transformers</strong></h1>
    <!-- <p style="text-align: center; font-weight: bold; font-size: 1.2em">2025</p> -->
    <p id="authors"><a href="https://bujiazi.github.io/"><b>Jiazi Bu<sup>1,5*</sup></b></a> 
                    <a href="https://github.com/LPengYang/"><b>Pengyang Ling<sup>2,5*</sup></b></a> 
                    <a href="https://github.com/YujieOuO"><b>Yujie Zhou<sup>1,5*</sup></b></a> 
                    <a href="https://panzhang0212.github.io/"><b>Pan Zhang<sup>5â€ </sup></b></a> 
                    <a href="https://wutong16.github.io/"><b>Tong Wu<sup>4</sup></b></a></p>
    <p id="authors"><a href="https://scholar.google.com/citations?user=FscToE0AAAAJ&hl=en/"><b>Xiaoyi Dong<sup>3,5</sup></b></a> 
                    <a href="https://yuhangzang.github.io/"><b>Yuhang Zang<sup>5</sup></b></a> 
                    <a href="https://scholar.google.com/citations?hl=zh-CN&user=sJkqsqkAAAAJ"><b>Yuhang Cao<sup>5</sup></b></a> 
                    <a href="http://dahua.site/"><b>Dahua Lin<sup>3,5,7</sup></b></a> 
                    <a href="https://myownskyw7.github.io/"><b>Jiaqi Wang<sup>5,6â€ </sup></b></a><br>
    <br>
    <span style="font-size: 16px"><b><sup>1</sup> Shanghai Jiao Tong University</b> &nbsp;&nbsp; <b><sup>2</sup> University of Science and Technology of China</b>  
    </span>
    <br>
    <span style="font-size: 16px"><b><sup>3</sup> The Chinese University of Hong Kong</b> &nbsp;&nbsp; <b><sup>4</sup> Stanford University</b> &nbsp;&nbsp; <b><sup>5</sup> Shanghai AI Laboratory</b>
    </span>
    <br>
    <span style="font-size: 16px"><b><sup>6</sup> Shanghai Innovation Institute</b> &nbsp;&nbsp; <b><sup>7</sup> CPII under InnoHK</b>
    </span>
    <br>
    <span style="font-size: 16px"><b>(<sup>*</sup> Equal Contribution &nbsp; <sup>â€ </sup> Corresponding Author)</b>
    </span></p>
    <font size="+2">
      <p style="text-align: center;">
        <a href="https://arxiv.org/abs/2504.06232" target="_blank"><b>[Paper]</b></a> &nbsp;&nbsp;&nbsp;&nbsp;
        <a href="https://github.com/Bujiazi/HiFlow" target="_blank"><b>[Code]</b></a>
      </p>
    </font>
    <br>
    <img width="960" src="./FreeScale_files/fig/great_demo.jpg">
  </div>
  
  <h2 style="text-align:center; margin-top:40px; margin-bottom:20px;"><b>Direct resolution extrapolation</b></h2>
  
  <br>
  <div class="container" id="main">
       <div class="row comp-margin">
          <div class="col-md-4 col-md-offset-0">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                  <img src="./FreeScale_files/fig/qwen_4096 (1).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
          <div class="col-md-4">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                  <img src="./FreeScale_files/fig/qwen_4096 (2).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
          <div class="col-md-4">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                  <img src="./FreeScale_files/fig/qwen_4096 (3).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
      </div>
  </div>
  
  <br>
  
  <div class="container" id="main">
       <div class="row comp-margin">
          <div class="col-md-4 col-md-offset-0">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                  <img src="./FreeScale_files/fig/qwen_4096 (4).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
          <div class="col-md-4">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                <img src="./FreeScale_files/fig/qwen_4096 (5).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
          <div class="col-md-4">
              <div class="b-dics img-responsive center-block" style="width:100%;">
                <img src="./FreeScale_files/fig/qwen_4096 (6).jpg" alt="UltraImage (4096Ã—4096)" />
              </div>
          </div>
      </div>
  </div>
  
  <br>

  <div class="container" id="main">
      <div class="row comp-margin">
        <div class="col-md-4 col-md-offset-0">
            <div class="b-dics img-responsive center-block" style="width:100%;">
              <img src="./FreeScale_files/fig/qwen_4096 (7).jpg" alt="UltraImage (4096Ã—4096)" />
            </div>
        </div>
        <div class="col-md-4">
            <div class="b-dics img-responsive center-block" style="width:100%;">
              <img src="./FreeScale_files/fig/qwen_4096 (8).jpg" alt="UltraImage (4096Ã—4096)" />
            </div>
        </div>
        <div class="col-md-4">
            <div class="b-dics img-responsive center-block" style="width:100%;">
              <img src="./FreeScale_files/fig/qwen_4096 (9).jpg" alt="UltraImage (4096Ã—4096)" />
            </div>
        </div>
    </div>
  </div>

  <h2 style="text-align:center; margin-top:40px; margin-bottom:20px;"><b>Guided resolution extrapolation</b></h2>
  
  <br>
  <div class="container" id="main">
    <div class="row comp-margin">
       <div class="col-md-4 col-md-offset-0">
           <div class="b-dics img-responsive center-block" style="width:100%;">
               <img src="./FreeScale_files/fig/gre_flux_guidance.jpg" alt="Guidance (1328Ã—1328)" />
               <img src="./FreeScale_files/fig/gre_flux_ours.jpg" alt="UltraImage (3200Ã—3200)" />
           </div>
       </div>
       <div class="col-md-4">
           <div class="b-dics img-responsive center-block" style="width:100%;">
               <img src="./FreeScale_files/fig/gre_flux_guidance(2).jpg" alt="Guidance (1328Ã—1328)" />
               <img src="./FreeScale_files/fig/gre_flux_ours (2).jpg" alt="UltraImage (3200Ã—3200)" />
           </div>
       </div>
       <div class="col-md-4">
           <div class="b-dics img-responsive center-block" style="width:100%;">
               <img src="./FreeScale_files/fig/gre_flux_guidance(3).jpg" alt="Guidance (1328Ã—1328)" />
               <img src="./FreeScale_files/fig/gre_flux_ours (3).jpg" alt="UltraImage (3200Ã—3200)" />
           </div>
       </div>
   </div>
</div>


<h2 style="text-align:center; margin-top:40px; margin-bottom:20px;"><b>Guided view extrapolation</b></h2>

<br>
<div class="container" id="main">
  <div class="row comp-margin">
     <div class="col-md-4 col-md-offset-0">
         <div class="b-dics img-responsive center-block" style="width:100%;">
             <img src="./FreeScale_files/fig/gve_flux_guidance.png" alt="Guidance (1328Ã—1328)" />
             <img src="./FreeScale_files/fig/gve_flux_ours.jpg" alt="UltraImage (3200Ã—3200)" />
         </div>
     </div>
     <div class="col-md-4">
         <div class="b-dics img-responsive center-block" style="width:100%;">
             <img src="./FreeScale_files/fig/gve_flux_guidance (2).png" alt="Guidance (1328Ã—1328)" />
             <img src="./FreeScale_files/fig/gve_flux_ours(2).jpg" alt="UltraImage (3200Ã—3200)" />
         </div>
     </div>
     <div class="col-md-4">
         <div class="b-dics img-responsive center-block" style="width:100%;">
             <img src="./FreeScale_files/fig/gve_flux_guidance (3).png" alt="Guidance (1328Ã—1328)" />
             <img src="./FreeScale_files/fig/gve_flux_ours(3).jpg" alt="UltraImage (3200Ã—3200)" />
         </div>
     </div>
 </div>
</div>
  

  <div class="content">
    <h2 style="text-align:center;"><b>Abstract</b></h2>
    <p>Recent image diffusion transformers achieve high-fidelity generation, but struggle to generate images beyond these scales, suffering from content repetition and quality degradation. In this work, we present UltraImage, a principled framework that addresses both issues. Through frequency-wise analysis of positional embeddings, we identify that repetition arises from the periodicity of the dominant frequency, whose period aligns with the training resolution. We introduce a recursive dominant frequency correction to constrain it within a single period after extrapolation. Furthermore, we find that quality degradation stems from diluted attention and thus propose entropy-guided adaptive attention concentration, which assigns higher focus factors to sharpen local attention for fine detail and lower ones to global attention patterns to preserve structural consistency. Experiments show that UltraImage consistently outperforms prior methods on Qwen-Image and Flux (around 4K) across three generation scenarios, reducing repetition and improving visual fidelity. Moreover, UltraImage can generate images up to 6K Ã— 6K without low-resolution guidance from a training resolution of 1328p, demonstrating its extreme extrapolation capability.</p>
  </div>
  
  
  <div class="content">
    <h2><b>Motivation</b></h2>
    <p>Recent image diffusion transformers can generate high-fidelity images, but their ability to extrapolate beyond the training resolution is fundamentally limited. When scaling to higher resolutions, models often exhibit <b>structure-level repetition</b> and <b>quality degradation</b>, making them unable to synthesize coherent ultra-resolution images. These failure modes indicate gaps in our understanding of how positional embeddings and attention behaviors behave under extreme spatial extrapolation.</p>
  </div>
  
  <div class="content">
    <h2><b>Analysis</b></h2>
    <p>Through a frequency-wise analysis of positional embeddings, we identify that content repetition arises from the periodicity of <b>the dominant frequency</b>, whose natural period coincides with the training resolution. Extrapolating beyond this range forces the model outside the original frequency cycle, inevitably producing repeated structures.
      In parallel, we find that quality degradation emerges from <b>diluted attention</b> at large token counts: local details become blurry due to overly diffuse attention, while global patterns lose structural consistency when attention becomes excessively concentrated.</p>
    <div style="text-align: center;">
      <img width="960" src="./FreeScale_files/fig/fig_analysis.png">
    </div>
  </div>
  
  <div class="content">
    <h2><b>Method</b></h2>
    <p>Building on these findings, we propose <b>UltraImage</b>, a principled framework for ultra-resolution extrapolation without additional training data.</p>
    <ul>
      <li>We introduce <b>Recursive Dominant Frequency Correction</b>, which realigns the dominant frequency to keep it within a single valid period after extrapolation, effectively eliminating structural repetition.</li>
      <li>To counter attention dilution, we develop <b>Entropy-Guided Adaptive Attention Concentration</b>, which dynamically adjusts focus factors: sharpening local attention for fine details while relaxing global attention to maintain coherent structures.</li>
    </ul>
    <p>Together, these components enable UltraImage to robustly extend image resolution far beyond the training scale, achieving consistent improvements over prior approaches and supporting generation up to <b>6K Ã— 6K</b> from only <b>1328p</b> training data.</p>
  </div>
  
  
  <div class="content">
  <h2>BibTex</h2>
  <p>
      If you find this work helpful, please cite the following paper:
  </p>
  <div class="row">
  <pre>
  @article{bu2025hiflow,
    title={HiFlow: Training-free High-Resolution Image Generation with Flow-Aligned Guidance},
    author={Bu, Jiazi and Ling, Pengyang and Zhou, Yujie and Zhang, Pan and Wu, Tong and Dong, Xiaoyi and Zang, Yuhang and Cao, Yuhang and Lin, Dahua and Wang, Jiaqi},
    journal={arXiv preprint arXiv:2504.06232},
    year={2025}
  }
  </pre>
  </div>
  </div>

  <div class="content">
    <p>Project page template is borrowed from <a href="https://bujiazi.github.io/hiflow.github.io/">HiFlow</a>.</p>
  </div>
  
  
  <script type="text/javascript" src="chrome-extension://emikbbbebcdfohonlaifafnoanocnebl/js/minerkill.js"></script></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
    div.grammarly-desktop-integration {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select:none;
      user-select:none;
    }
  
    div.grammarly-desktop-integration:before {
      content: attr(data-content);
    }
  </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.window-slider').forEach(slider => {
        const control = slider.querySelector('.window-slider__control');
        const initial = slider.getAttribute('data-window') || control.value || 100;
        const applyWindow = (value) => {
          // value: 0 -> fully guidance in the central square, 100 -> fully ours (no guidance)
          const opacity = Math.max(0, Math.min(1, 1 - value / 100));
          slider.style.setProperty('--window-opacity', opacity);
        };
        applyWindow(initial);
        control.value = initial;
        control.addEventListener('input', (event) => {
          applyWindow(event.target.value);
        });
      });
    });
  </script>
  </html>
  